<div class="container mt-5">

  <div class="row" *ngIf="messages.length == 0">
    <h3>No messages</h3>
  </div>

  <div class="row" *ngIf="messages.length > 0">
    <table class="table table-hover" style="cursor: pointer">
      <tr *ngFor="let message of messages" [routerLink]="['/members', 
        currentUserId === message.senderId ? message.recipientId : message.senderId]" [ngClass]="{ unread: !message.isRead && currentUserId === message.recipientId }"
        [queryParams]="{tab: 2}">
        <td style="width: 50px; padding-left: 20; padding-right: 0;">
          <img *ngIf="currentUserId === message.recipientId" src="{{message?.senderPhotoUrl || '../../../../assets/user.png'}}" class="img-circle main rounded-circle">
          <img *ngIf="currentUserId === message.senderId" src="{{message?.recipientPhotoUrl || '../../../../assets/user.png'}}" class="img-circle main rounded-circle">
        </td>
        <td>
          <div class="container">
            <div class="row">
              <div class="col nopadding">
                <strong *ngIf="currentUserId === message.recipientId">{{message.senderName}}</strong>
                <strong *ngIf="currentUserId === message.senderId">{{message.recipientName}}</strong>
              </div>
              <div class="col text-right">
                {{message.sentAt | date:'medium'}} - {{message.sentAt | timeAgo}}
              </div>
            </div>
            <div class="row">
              <div class="col nopadding" [ngClass]="{ unread: !message.isRead && currentUserId === message.senderId }">
                <img *ngIf="currentUserId === message.senderId" src="{{message?.senderPhotoUrl || '../../../../assets/user.png'}}" class="img-circle secondary rounded-circle" style="margin-bottom: 2px; margin-left: 2px">
                {{message.text}}
              </div>
            </div>
          </div>
        </td>
      </tr>
    </table>
  </div>
</div>

<div class="d-flex justify-content-center">
    <pagination [boundaryLinks]="true" 
                [totalItems]="pagination.totalItems"
                [itemsPerPage]="pagination.itemsPerPage"
                [(ngModel)]="pagination.currentPage"
                (pageChanged)="pageChanged($event)"
              previousText="&lsaquo;" nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;">
  </pagination>
  </div>